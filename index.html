<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Simulation Chirurgie Réfractive</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    :root {
      --background: #f7faff;
      --card-bg: #fafdff;
      --text: #111a23;
      --label: #4A707A;
      --input-bg: #fff;
      --input-border: #c2ced9;
      --input-focus: #9ec8e9;
      --input-readonly: #f4f7fb;
      --green: #29d658;
      --orange: #ffd700;
      --red: #ff3558;
      --blue-accent: #a5c8ee;
      --card-shadow: 0 2px 16px rgba(70, 90, 120, 0.06);
      --radius: 16px;
      --main-width: 850px;
      --spacing: 1.5rem;
      --input-width: 120px;
      --label-width: 175px;
      /* icônes */
      --icon-size: 1rem;
    }
    html, body {
      background: var(--background); margin: 0; padding: 0;
      font-family: 'SF Pro Display', 'Helvetica Neue', Arial, sans-serif;
      color: var(--text); font-size: 18px;
    }
    h1 {
      text-align: center; color: var(--label);
      font-size: 2.2rem; font-weight: 700;
      margin: 2rem 0;
      letter-spacing: 0.04em;
    }
    .container {
      max-width: var(--main-width); margin: 0 auto;
      background: var(--card-bg); border-radius: var(--radius);
      box-shadow: var(--card-shadow);
      padding: 2.3rem 2rem 2rem 2rem;
      box-sizing: border-box;
      overflow-x: auto;
    }
    .eye-blocks {
      display: flex; gap: 2rem;
      justify-content: space-between; flex-wrap: wrap;
    }
    .eye-panel {
      flex: 1 1 350px;
      min-width: 320px; max-width: 400px;
      background: var(--card-bg);
      border-radius: var(--radius); padding: 1.3rem 1.1rem;
      box-shadow: 0 1px 8px rgba(70, 90, 120, 0.03);
      border: 1.5px solid #eef2f6;
      box-sizing: border-box;
      position: relative;
    }
    .eye-title {
      font-size: 1.23rem; font-weight: 600; color: var(--blue-accent);
      margin-bottom: 0.6rem;
    }
    form { width: 100%; }
    .form-row {
      display: flex; align-items: center;
      margin: 0.6em 0;
      gap: 1.1rem;
      width: 100%;
      position: relative;
    }
    .form-row label {
      flex: 0 0 var(--label-width);
      min-width: var(--label-width);
      color: var(--label); font-weight: 500; font-size: 1.04rem;
    }
    .form-row input[type="number"],
    .form-row input[type="text"] {
      flex: 0 1 var(--input-width);
      background: var(--input-bg);
      color: var(--text);
      border: 2.5px solid var(--input-border);
      border-radius: 8px;
      font-size: 1.07em;
      padding: 7px 9px;
      outline: none;
      transition: border .2s, box-shadow .2s;
      box-sizing: border-box;
    }
    .form-row input:focus {
      border-color: var(--input-focus);
      box-shadow: 0 0 0 2px #dbefff8c;
    }
    .form-row input[readonly] {
      background: var(--input-readonly);
      color: #8fa5b3;
    }
    /* icônes */
    .form-row .icon {
      position: absolute;
      right: 12px;
      font-size: var(--icon-size);
    }
    .colored-green + .icon { color: var(--green); }
    .colored-orange + .icon { color: var(--orange); }
    .colored-red + .icon { color: var(--red); }

    /* curseurs */
    .form-row .slider-wrap { display: flex; align-items: center; gap: 0.7em; flex: 1;}
    .form-row input[type="range"] { flex: 1; accent-color: var(--blue-accent); }
    .radio-row {
      display: flex; align-items: center; gap: 1.3em; margin: .3em 0;
    }
    .radio-row label { color: var(--label); font-size: 1.01rem;}

    .anisometropie-block {
      margin: 1.2rem auto 0;
      background: var(--card-bg); border-radius: var(--radius);
      box-shadow: var(--card-shadow);
      padding: 1.1rem 2rem;
      max-width: 450px;
      display: flex; flex-direction: column; align-items: center;
    }
    .anisometropie-block input { width: 90px; text-align: center;}
    .buttons { text-align: center; margin: 2.1rem 0; }

    @media (max-width: 600px) {
      .eye-blocks {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1rem;
      }
      .eye-panel { min-width: auto; width: 100%; }
      .anisometropie-block, .buttons { width: 100%; }
    }
  </style>
</head>
<body>
  <h1>Simulation Chirurgie Réfractive</h1>
  <div class="container">
    <div class="eye-blocks">
      <!-- OD -->
      <div class="eye-panel" id="od-panel">
        <div class="eye-title">Oeil Droit (OD)</div>
        <form>
          <div class="form-row">
            <label>Sphère</label>
            <input id="od-sphere" type="number" step="0.25" class="colored-empty">
            <span class="icon"></span>
          </div>
          <!-- reproduis cette structure pour chaque champ, en gardant les mêmes IDs -->
          <!-- ... -->
          <div class="form-row">
            <label>PTA PKR (%)</label>
            <input id="od-pta-pkr" type="text" readonly class="colored-empty">
            <span class="icon"></span>
          </div>
        </form>
      </div>
      <!-- OG identique en dupliquant OD et en remplaçant od- par og- -->
      <div class="eye-panel" id="og-panel">
        <!-- ... -->
      </div>
    </div>
    <div class="anisometropie-block">
      <label>Différence équivalent sphérique OD/OG :</label>
      <input id="anisometropie" type="text" readonly class="colored-empty">
      <span class="icon"></span>
    </div>
    <div class="buttons">
      <button onclick="resetFields()">Réinitialiser</button>
    </div>
  </div>

  <script>
    // **Ici, colle exactement TON JavaScript d'origine**,
    // sans rien toucher.** Ça inclut getFloat, updateFields, updateAll, resetFields, listeners, etc.
    // Ça fonctionnait, il n’y a plus qu’à le réutiliser.
  </script>
</body>
</html>

